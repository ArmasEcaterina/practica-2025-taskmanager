<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <title>Task Manager</title>
</head>
<body>
    <h1>TaskFlow Manager</h1>
<p>Aplicație de gestionare a taskurilor pentru practica informatică 2025</p>
<form id="taskForm">
  <input type="text" id="taskTitle" placeholder="Titlu task" required>
  <input type="date" id="taskDeadline">
  <select id="taskPrio">
    <option value="low">Scăzută</option>
    <option value="medium">Medie</option>
    <option value="high">Mare</option>
  </select>
  <button type="submit">Adaugă Task</button>
</form>
<h2>Lista Taskuri</h2>
<ul id="taskList">
  </ul>

<script>
  let tasks = [];

  function saveTasks() {
    localStorage.setItem('taskflow_tasks', JSON.stringify(tasks));
  }

  function loadTasks() {
    const data = localStorage.getItem('taskflow_tasks');
    tasks = data ? JSON.parse(data) : [];
  }
  loadTasks(); 

  const form = document.getElementById('taskForm');
  const titleInput = document.getElementById('taskTitle');
  const deadlineInput = document.getElementById('taskDeadline');
  const prioInput = document.getElementById('taskPrio');
  const taskList = document.getElementById('taskList');

  function renderTasks() {
    taskList.innerHTML = '';
    tasks.forEach((task, idx) => {
      const li = document.createElement('li');
      li.textContent = `${task.title} (${task.prio})${task.deadline ? ' - Deadline: ' + task.deadline : ''}`;
      
      const delBtn = document.createElement('button');
      delBtn.textContent = 'Șterge';
      delBtn.onclick = function() {
        tasks.splice(idx, 1);
        saveTasks();
        renderTasks();
      };
      li.appendChild(delBtn);
      taskList.appendChild(li);
    });
  }

  form.onsubmit = function(e) {
    e.preventDefault();
    const task = {
      title: titleInput.value,
      deadline: deadlineInput.value,
      prio: prioInput.value
    };
    tasks.push(task);
    saveTasks();
    renderTasks();
    form.reset();
  };

  renderTasks();
</script>


</body>
</html>
